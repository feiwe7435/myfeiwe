# 自动生成钱包脚本
## 1. 创建钱包
使用`wallet_generate.py`创建钱包,要求输入**钱包组名称** 和 **钱包数量** .
该程序依赖`wallet_module`库中的`generate_wallet`函数.

执行过程如下:
- 使用`fernet`自动生成密码.
- 通过`w3.eth.account.create()`生成一个私钥.
- 使用密码加密该私钥.
- 将私钥切分成两段保存,将密码独立保存.
- 保存路径为插件同目录下的`eth_acc`文件夹.

**注意应该手动复制密码到其他地方保存.**

## 2. 读取指定钱包的地址和私钥
使用`wallet_pkey_single.py`读取,要求输入**钱包组名称,密码,钱包编号**.
该程序依赖`wallet_module`库中的`password_check`函数.

异常处理如下:
- 当钱包组名称不存在时,文件不存在,报错.
- 当密码格式不是`fernet`格式时,密码错误,报错.
- 当密码`fernet`解出私钥推导出的地址于最初保存的地址不同时,密码错误,报错.
- 当要求查询的钱包编号不存在,报错.

程序会首先显示钱包组名称和地址.
如果文件存在并且密码正确,会有弹出一个进程确认是否显示私钥.
如果选择`Y`,则会在终端打印**钱包组名称,钱包编号,钱包地址,钱包私钥**.

## 3. 打印钱包组的私钥
使用`wallet_pkey_batch.py`读取,要求输入钱包组名称,密码.
该程序依赖`wallet_module`库中的`password_check`函数.

异常处理与`wallet_pkey_single`相比,缺少了查询钱包编号.

如果文件存在并且密码正确,会有弹出一个进程确认是否显示私钥.
如果选择`Y`,则会在`eth_acc`文件夹下打印出私钥文件.

如果想保存到其他路径,可修改`wallet_pkey_batch.py`文件中的的该代码:
```python
with open(f'.\\eth_acc\\{wallet_group_name}_pkeys_decrypt.json', 'w') as f:
    json.dump(local_acct_list, f, indent=4)
```

## 4. 模块文件说明

**generate_wallet**: 
- 导入钱包数量,自动生成密码和私钥.
- 使用生成的密码加密私钥并分割成两份.
- 输出钱包地址密码以及分割的私钥.

**get_acc**:
- 合并加密的私钥.
- 解密合并的私钥.
- 推导出一个包含地址,私钥等信息的对象列表并导出.

**password_check**: 
验证**最初生成的钱包**地址与**私钥+密码**推导出的钱包地址是否一致,如果一致,则说明密码正确

## 5. 异常处理文件说明
添加了 `PasswordError` 和 `WalletNumError` 2个异常处理
用来处理 **密码错误** 和 **编号错误** .